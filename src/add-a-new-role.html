<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>CPG by TEG</title>
    <link href="https://fonts.googleapis.com/css?family=Barlow:300,400,500,600,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body cz-shortcut-listen="true">
    <header class="navbar fixed-top navbar-expand navbar-light bg-white">
        <button class="btn sidebar__toggle__btn toggle mr-3">
            <svg width="20" height="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs>
                    <path d="M0 10v2h20v-2H0zm0-5v2h20V5H0zm0-5v2h20V0H0z" id="a" />
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <mask id="b" fill="#fff">
                        <use xlink:href="#a" />
                    </mask>
                    <g mask="url(#b)">
                        <path d="M-15-19h50v50h-50z" fill="#000" />
                    </g>
                </g>
            </svg>
        </button>
        <a class="navbar-brand im-logo" href="/" aria-label="Bootstrap">
            <img src="img/intell-mix-logo.png" alt="intell mix logo">
        </a>
        <div class="header-right logout-block">
            <div class="dropdown">
                <a class="btn btn-secondary dropdown-toggle dropdown-toggle-split" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="sr-only">Toggle Dropdown</span>
                    <p class="user-name text-truncate">Hello, Avijit!</p>
                    <span class="user-profile-icon"></span>
                    <span class="caret"></span>
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="edit-profile.html">Profile</a>
                    <a class="dropdown-item" href="login.html">Sign Out</a>
                </div>
            </div>
        </div>
    </header>
    <div class="content">
      <div class="sidebar sidebar__open">
        <a class="nav-link sidebar__link" href="#">
            <span class="sidebar__link__icon">
                <img src="./img/home.png" alt="home icon" />
            </span>
            <span class="sidebar__link__text">Home</span>
        </a>
        <a class="nav-link sidebar__link" href="data-upload.html">
            <span class="sidebar__link__icon">
                <img src="./img/upload.png" alt="upload icon" />
            </span>
            <span class="sidebar__link__text">Data Ingestion</span>
        </a>
        <a class="nav-link sidebar__link" href="#">
            <span class="sidebar__link__icon">
                <img src="./img/data-approval.png" alt="data approval icon" />
            </span>
            <span class="sidebar__link__text">Approval</span>
        </a>
        <a class="nav-link sidebar__link" href="#">
            <span class="sidebar__link__icon">
                <img src="./img/process-update.png" alt="process update icon" />
            </span>
            <span class="sidebar__link__text">Process Update</span>
        </a>
        <a class="nav-link sidebar__link" href="list-of-dashboards.html">
            <span class="sidebar__link__icon">
                <img src="./img/dashboard.png" alt="dashboard icon" />
            </span>
            <span class="sidebar__link__text">Dashboards</span>
        </a>
        <a class="nav-link sidebar__link" href="#">
            <span class="sidebar__link__icon">
                <img src="./img/simulator.png" alt="simulator icon" />
            </span>
            <span class="sidebar__link__text">Media Simulator</span>
        </a>
        <a class="nav-link sidebar__link" href="#">
            <span class="sidebar__link__icon">
                <img src="./img/cube.png" alt="cube icon" />
            </span>
            <span class="sidebar__link__text">Data Cube</span>
        </a>
        <a class="nav-link sidebar__link" href="manage-user-list.html">
            <span class="sidebar__link__icon">
                <img src="./img/manage-users.png" alt="manage users icon" />
            </span>
            <span class="sidebar__link__text">Manage Users</span>
        </a>
        <div class="admin__access__toggle">
            <p class="admin__access__toggle__title">Admin</p>
            <button class="btn admin__access__toggle__btn" data-toggle="modal" data-target="#superAdminAccessModal">Give SuperAdmin Access</button>
            <a class="nav-link sidebar__link active" href="add-a-new-role.html">
                <span class="sidebar__link__icon">
                    <img src="./img/manage-users.png" alt="create role icon" />
                </span>
                <span class="sidebar__link__text">Create Role</span>
            </a>
        </div>
    </div>
        <div class="container-fluid">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="manage-user-list.html">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">
                        <i class="fas fa-chevron-right pr-2"></i>Create Roles</li>
                    </li>
                </ol>
            </nav>
            <div class="d-flex justify-content-between align-items-center">
                <div class="page-header">
                    <h3>Create Roles</h3>
                    <p>Create or view priviledges of an existimg role</p>
                </div>
            </div>
            <ul class="nav nav-tabs manage__org__nav" id="roleForm" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="newRole-tab" data-toggle="tab" href="#newRole-content" role="tab" aria-controls="newRole-content" aria-selected="true">
                        <span class="nav-steps-no">1</span>
                        Create new Role
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="roleList-tab" data-toggle="tab" href="#roleList-content" role="tab" aria-controls="roleList-content" aria-selected="false">
                        <span class="nav-steps-no">2</span>
                        List of Roles
                    </a>
                </li>
            </ul>
            <div class="tab-content manage__user manage__role" id="roleFormContent">
                <div class="tab-pane fade show active card" id="newRole-content" role="tabpanel" aria-labelledby="newRole-tab">
                    <div class="manage__form card-body">
                        <div class="form-group row">
                            <label for="role-name" class="col-sm-2 col-form-label">Role Name:</label>
                            <input type="text" class="col-sm-4 form-control" id="role-name" placeholder="Enter role name">
                        </div>
                        <table class="manage__form__table">
                            <thead>
                                <tr>
                                    <th>
                                        <p>Select Priveledges</p>
                                    </th>
                                    <th>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-all" class="checkbox__role">
                                            <label for="select-privileges-all"></label>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <p>File Upload</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-1" class="checkbox__role">
                                            <label for="select-privileges-1"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>File Approval</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-2" class="checkbox__role">
                                            <label for="select-privileges-2"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>DB Approval</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-3" class="checkbox__role">
                                            <label for="select-privileges-3"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Publish</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-4" class="checkbox__role">
                                            <label for="select-privileges-4"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Manual Override</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-5" class="checkbox__role">
                                            <label for="select-privileges-5"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Dashboard</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-6" class="checkbox__role">
                                            <label for="select-privileges-6"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Add New File Types</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox">
                                            <input type="checkbox" id="select-privileges-7" class="checkbox__role">
                                            <label for="select-privileges-7"></label>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="manage__org__form mt-5 m-0 d-flex justify-content-end">
                            <button class="btn btn-primary save-btn">Save</button>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade card" id="roleList-content" role="tabpanel" aria-labelledby="roleList-tab">
                    <div class="manage__form card-body">
                        <div class="manage__form__title">
                            <h3>View Role Privileges</h3>
                        </div>
                        <div class="form-group row manage__form__select">
                            <div class="col-sm-6">
                                <select id="userRole" class="manage__form__select_dd form-control" data-live-search="true">
                                    <option value="Analyst">Analyst</option>
                                    <option value="Admin">Admin</option>
                                    <option value="Executive">Executive</option>
                                    <option value="Finance">Finance</option>
                                    <option value="Sales">Sales</option>
                                </select>
                            </div>
                        </div>
                        <table class="manage__form__table">
                            <thead>
                                <tr>
                                    <th>
                                        <p>Priveledges Assigned</p>
                                    </th>
                                    <th>
                                        &nbsp;
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <p>File Upload</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-1" checked disabled class="checkbox__role">
                                            <label for="select-privileges-1"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>File Approval</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-2" checked disabled class="checkbox__role">
                                            <label for="select-privileges-2"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>DB Approval</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-3" disabled class="checkbox__role">
                                            <label for="select-privileges-3"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Publish</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-4" disabled class="checkbox__role">
                                            <label for="select-privileges-4"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Manual Override</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-5" disabled class="checkbox__role">
                                            <label for="select-privileges-5"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Dashboard</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-6" disabled class="checkbox__role">
                                            <label for="select-privileges-6"></label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>Add New File Types</p>
                                    </td>
                                    <td>
                                        <div class="manage__form__checkbox disabled">
                                            <input type="checkbox" id="select-privileges-7" disabled class="checkbox__role">
                                            <label for="select-privileges-7"></label>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="manage__org__form mt-5 m-0 d-flex justify-content-end">
                            <button class="btn btn-primary save-btn">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- SuperAdmin Access confimation Modal -->
    <div class="modal fade" id="superAdminAccessModal" tabindex="-1" role="dialog" aria-labelledby="superAdminAccessModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header pl-30">
                    <h5 class="modal-title" id="superAdminAccessModalLabel">Grant Superadmin Access?</h5>
                </div>
                <div class="modal-body p-30">
                    <div class="manage__form__input mb-3">
                        <label for="accessConfirmPassword">Enter your Current Password for verification.</label>
                        <input class="form-control" id="accessConfirmPassword" placeholder="Enter password" type="password">
                    </div>
                    <div class="manage__form__checkbox">
                        <input type="checkbox" id="accessConfirm" class="checkbox__dataTypes">
                        <label for="accessConfirm">I understand this will delete the data type & cannot be recoverd again.</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary cancel-btn" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary save-btn">Procced</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
    <script>
    $(document).ready(function() {
        function populateSelectedItems(select, selectedParent) {
            $(select).on('changed.bs.select', function() {
                var values = $(this).val();
                var selectedList = [];
                $.each(values, function(i, val) {
                    selectedList.push('<li class="list-group-item">' + val + '</li>');
                });
                $(selectedParent).html(selectedList);
            });
        }
        populateSelectedItems('#userDashboard', '#selectedUserDashboards');
        populateSelectedItems('#userBrand', '#selectedUserBrands');
        populateSelectedItems('#userDataTypes', '#selectedUserDataTypes');

        function renderSelectedRoles(values, selectedParent) {
            var selectedList = [];
            $.each(values, function(i, val) {
                selectedList.push('<input class="radio__role" type="radio" name="user-role" id="user-role-' + i +
                    '"><label for="user-role-' + i + '">' + val + '</label>');
            });
            $(selectedParent).html(selectedList);
        }

        function populateSelectedRoles(select, selected) {
            $(select).on('changed.bs.select', function() {
                var values = $(this).val();
                var customRoleIndex = values.indexOf('customRole')
                if (customRoleIndex > -1) {
                    values.splice(customRoleIndex, 1);
                    $('.selectpicker').selectpicker('val', values);
                    $('.selectpicker').selectpicker('toggle');
                    $('#createModal').modal('show');

                } else {
                    renderSelectedRoles(values, selected);
                }
            });
        }

        populateSelectedRoles('#userRole', '#selecteduserRoles');

        /* initial render */
        renderSelectedRoles($('#userRole').val(), '#selecteduserRoles');
    });
    </script>
    <script>
    $('.sidebar__toggle__btn').on('click', function() {
        if ($('.sidebar').hasClass('sidebar__open')) {
            $('.sidebar__toggle__btn').removeClass('toggle');
            $('.sidebar').removeClass('sidebar__open');
            $('.container').addClass('expand');
        } else {
            $('.sidebar__toggle__btn').addClass('toggle');
            $('.sidebar').addClass('sidebar__open');
            $('.container').removeClass('expand');
        }
    });
    </script>
</body>

</html>